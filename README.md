# DatabaseConsoleApp
Согласно заданию мне нужно было написать консольное приложение, которые бы позволяло производить определенные манипуляции с базой данных. В данном репозитории я размещаю исходный код разработанного приложения.
## База данных
В качестве БД, с которой бы общалось мое приложение я выбрал бесплатную базу данных MySQL [db4free.net](https://www.db4free.net). Она позволяет сохранять достаточные для задания объемы информации, а также позволяет писать запросы напрямую к бд через [phpMyAdmin](https://www.db4free.net/phpMyAdmin/).
<details>
  <summary>Данные, чтобы подключиться напрямую к БД через phpMyAdmin</summary>
  Имя пользователя: task_user.<br>
  Пароль: task_321
</details>

## Выполнение
Для выполнения задания я использовал язык программирования Java, готовое приложение упаковал в jar-файл. Подключение и работу с базой данных я осуществлял с помощью API jdbc.
Функционал приложения почти полностью соответстует заданию, исключения составляют подзадания, подразумевающие вывод данных и создание таблицы, а также добавленная мной для удобства опция удаления таблицы при помощи ключа '6'. В случае с выводом данных мной была добавлена возможность указать, какое количество строк необходимо показать (в подзадании 3 ограничение срабатывает на этапе SQL-запроса, в подзадании 5 - только на уровне печати). Запрос для создания таблицы был мной немного доработан, чтобы избежать возникновения ошибки при попытке создать уже существующую таблицу.
## Подзадание 4
Подзадание 4 подразумевает добавление в таблицу 1000100 новых строк. Так как данные для каждой строки достаточно велики (строка с ФИО длиной в несколько десятков символ + дата), а также из-за того, что БД бесплатна и находится на удаленном сервере, выполнение такого запроса занимает достаточно долгое время. Чтобы исключить необходимость передачи текста запроса по сети (строка длиной несколько МБайт, в случае если она содержит весь 1000100 строк, то она превышает лимит сервера), мною была написана SQL-процедура, которая генерирует и вставляет 1000000 строк. Консольное приложение в свою очередь только вызывает эту процедуру и после этого добавляет 100 строк с ФИО, начинающимся с буквы F.
## Подзадание 6
Изначально выполнение запроса из пункта 5 занимало околок 4,5 секунд.<br>
![pre_index;](https://github.com/granikartem/DatabaseConsoleApp/assets/74816915/384cf8c3-599e-499a-ba0e-421f4dc31569)<br>
После этого, используя phpMyAdmin, я добавил индекс на первый символ колонки FULL_NAME, отвечающей за ФИО и на колонку GENDER, отвечающую за пол.<br>
![index](https://github.com/granikartem/DatabaseConsoleApp/assets/74816915/7de11364-63f6-40ac-a53a-f58d250bbf49)<br>
После этого скорость выполнения запроса увеличилась, и он занял только 2,5 секунды. <br>
![post_index](https://github.com/granikartem/DatabaseConsoleApp/assets/74816915/b3707781-3f8e-4684-a66b-b529178decf4)<br>
Однако нельзя не отметить, что большую часть времени занимает общение по сети, из-за чего запросы могут выполняться медленнее и при наличие индекса, который их значительно ускоряет.
